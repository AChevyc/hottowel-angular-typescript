{"version":3,"sources":["server/routes.ts"],"names":["getPeople","getPerson"],"mappings":"AAAA,oBAAoB;AACpB,sDAAsD;AAEtD,YAAY,CAAC;AAEb,IAAO,OAAO,WAAW,SAAS,CAAC,CAAC;AAEpC,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AAC9B,IAAO,SAAS,WAAW,aAAa,CAAC,CAAC;AAC1C,IAAO,IAAI,WAAW,QAAQ,CAAC,CAAC;AAEhC,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;AACjC,MAAM,CAAC,GAAG,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;AACrC,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,SAAS,CAAC,kBAAkB,CAAC,CAAC;AAE/C,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC;AAExB,AAGA,cAHc;AAEd,sCAAsC;SAC7B,SAAS,CAAC,GAAoB,EAAE,GAAqB,EAAE,IAAS;IACrEA,GAAGA,CAACA,MAAMA,CAACA,GAAGA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,SAASA,EAAEA,CAACA,CAACA;AAC3CA,CAACA;AAED,SAAS,SAAS,CAAC,GAAoB,EAAE,GAAqB,EAAE,IAAS;IACrEC,IAAIA,EAAEA,GAAGA,CAACA,GAAGA,CAACA,MAAMA,CAACA,EAAEA,CAACA;IACxBA,IAAIA,MAAMA,GAAGA,IAAIA,CAACA,SAASA,EAAEA,CAACA,MAAMA,CAACA,UAASA,CAACA;QAC3C,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC;IACvB,CAAC,CAACA,CAACA,CAACA,CAACA,CAACA;IAENA,EAAEA,CAACA,CAACA,MAAMA,CAACA,CAACA,CAACA;QACTA,GAAGA,CAACA,MAAMA,CAACA,GAAGA,CAACA,CAACA,IAAIA,CAACA,MAAMA,CAACA,CAACA;IACjCA,CAACA;IAACA,IAAIA,CAACA,CAACA;QACJA,SAASA,CAACA,OAAOA,CAACA,GAAGA,EAAEA,GAAGA,EAAEA,SAASA,GAAGA,EAAEA,GAAGA,YAAYA,CAACA,CAACA;IAC/DA,CAACA;AACLA,CAACA","file":"server/routes.js","sourceRoot":"/Users/john/_git/angular-typescript-hottowel-demo/","sourcesContent":["/*jshint node:true*/\n/// <reference path=\"../../typings/tsd-server.d.ts\" />\n\n'use strict';\n\nimport express = require('express');\n\nvar router = express.Router();\nimport four0four = require('./utils/404');\nimport data = require('./data');\n\nrouter.get('/people', getPeople);\nrouter.get('/person/:id', getPerson);\nrouter.get('/*', four0four.notFoundMiddleware);\n\nmodule.exports = router;\n\n//////////////\n\n//EG TODO: find type for next argument\nfunction getPeople(req: express.Request, res: express.Response, next: any) {\n    res.status(200).send(data.getPeople());\n}\n\nfunction getPerson(req: express.Request, res: express.Response, next: any) {\n    var id = +req.params.id;\n    var person = data.getPeople().filter(function(p) {\n        return p.id === id;\n    })[0];\n\n    if (person) {\n        res.status(200).send(person);\n    } else {\n        four0four.send404(req, res, 'person ' + id + ' not found');\n    }\n}\n"]}